(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{381:function(e,a,i){"use strict";i.r(a);var t=i(14),s=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"polityki-bezpieczenstwa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#polityki-bezpieczenstwa"}},[e._v("#")]),e._v(" Polityki bezpieczeństwa")]),e._v(" "),a("p",[e._v("ES4X pozwala na uruchomienie aplikacji w całkowicie bezpiecznym sandboxie. Tak samo jak "),a("a",{attrs:{href:"https://deno.land/",target:"_blank",rel:"noopener noreferrer"}},[e._v("deno"),a("OutboundLink")],1),e._v(", ES4X\npozwala na izolację aplikacji. Technologia stojąca za tą możliwością to JVM\n"),a("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/essential/environment/security.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("security manager"),a("OutboundLink")],1),e._v(". Menadżerowie\nbezpieczeństwa byli tymi, którzy izolowali stary kod "),a("code",[e._v("Applet")]),e._v(" od dostępu na maszynie host. Są oni bardziej drobiazgowi\nod tego, co można dzisiaj dostać od "),a("code",[e._v("deno")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"stworzenie-security-policy-polityki-bezpieczenstwa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stworzenie-security-policy-polityki-bezpieczenstwa"}},[e._v("#")]),e._v(" Stworzenie security.policy (polityki bezpieczeństwa)")]),e._v(" "),a("p",[e._v("Aby stworzyć politykę bezpieczeństwa uruchom narzędzie "),a("code",[e._v("es4x")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ es4x security-policy\n\nCreating a new "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'security.policy'")]),e._v(" with full network access and\nread-only IO access to the working directory.\n")])])]),a("p",[e._v("Wygenerowany plik jest czystym szablonem, więc jeśli go otworzysz, to przeczytasz:")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('// Grant the following permissions to code that shall be executed from\n// the node_modules/.lib/* directory\ngrant codeBase "file:\\${user.dir}\\${/}node_modules\\${/}.lib\\${/}*" {\n  // vert.x will need full access to the temp dir.\n  permission java.io.FilePermission "\\${java.io.tmpdir}\\${/}-", "read,write,delete";\n\n  // the code should be able to read the JVM/GraalVM runtime libs\n  permission java.io.FilePermission "\\${java.home}", "read";\n  permission java.io.FilePermission "\\${java.home}\\${/}..\\${/}release", "read";\n  permission java.io.FilePermission "\\${java.home}\\${/}-", "read";\n\n  // applications are allowed to read all files from the CWD\n  permission java.io.FilePermission "\\${user.dir}\\${/}-", "read";\n  // uncomment the following to allow full read access\n  //permission java.io.FilePermission "&lt;&lt;ALL FILES>>", "read";\n\n  // Netty performs some reflection we need to allow it\n  permission java.lang.reflect.ReflectPermission "suppressAccessChecks";\n\n  // By default we allow all runtime permissions\n  // users may want to restrict this further say for example to\n  // deny access to environment variables, etc...\n  permission java.lang.RuntimePermission "*";\n\n  // ES4X setup a nice looking logger\n  permission java.util.logging.LoggingPermission "control";\n\n  // Allow full access to JVM system properties\n  permission java.util.PropertyPermission "*", "read,write";\n\n  // currently we allow all access to the network\n  permission java.net.SocketPermission "*", "accept,connect,listen,resolve";\n};\n')])])]),a("p",[e._v("Ten szablon daje pełen dostęp do sieci i prawa tylko do odczyty dla wszystkich plików z "),a("code",[e._v("CWD")]),e._v(", skąd startuje aplikacja.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Kiedy znasz już wszystkie wymagane prawa dla Twojej aplikacji możesz zacząć zastrzegać je jeszcze bardziej!")])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("Mimo że ten szablon wygląda przyzwoicie jak na początek, pamiętaj, że "),a("code",[e._v("CWD")]),e._v(" jest tylko do odczytu, więc np. jeśli\nbędziesz uruchamiał serwer http, który pozwala na upload plików, to nie powiedzie się to, z racji tego, że Twoja\naplikacja nie ma praw do zapisywania, oczywiście zdarzy się tak o ile pliki te nie będą zapisywane w folderze "),a("code",[e._v("$TEMP")]),e._v("\ntylko w innym miejscu.")])])])}),[],!1,null,null,null);a.default=s.exports}}]);